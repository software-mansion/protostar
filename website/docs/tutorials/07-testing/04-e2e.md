# End-to-end tests

There are three main types of testing software: unit tests, integration tests and end-to-end tests.

Protostar testing framework provides an environment to write unit tests for Cairo smart contracts
in Cairo language itself.
With help of cheatcodes like [`deploy_contract`] it is also easy to write integration tests,
deploying single or a few contracts and examining internal behaviour of such small systems.

## Recommended approach

In end-to-end testing, the goal is to examine interactions not only within a system of contracts
deployed on the blockchain, but also to examine interactions triggered by external services,
like web frontends, and observing effects happening within these services themselves.

:::note
As an example, an end-to-end test of a voting application could trigger a click on a _Vote_ button,
causing a transaction being performed on the blockchain.
The test then waits for the transaction to be accepted, and examines changes of observable state of
voting contract, and the results gathered by the voting application.
:::

It's easy to observe, that end-to-end testing is more focused on controlling applications
interacting with smart contracts, while the manipulation of latter is limited only to deploying,
presetting a given state and then observing state changes.
Therefore, end-to-end tests suit more test suites of client applications, implemented in their
technologies, rather than Protostar-powered smart contracts' test suites.
The use cases needed for setting up smart contracts in a test can be fulfilled with three tools:

1. [StarkNet Devnet] for running a local, ephemeral StarkNet network,
2. [StarkNet SDKs] like [Starknet.js] or [Starknet.py] for [interacting with StarkNet] from tests'
   code,
3. Protostar CLI for [building contracts] and [deploying][interacting with starknet] in tests'
   setup phases and CI.

### Testing standalone contracts

In case the smart contracts are standalone and supposed to be used by independent clients,
one could write the test suite as an independent project using SDKs in general purpose languages,
for example, in [Jest] and [Starknet.js] or [pytest] and [Starknet.py].


[`deploy_contract`]: ./02-cheatcodes/deploy-contract.md

[building contracts]: ../05-compiling.md#compiling-your-project

[interacting with starknet]: ../08-interacting-with-starknet/README.md

[jest]: https://jestjs.io/

[pytest]: https://pytest.org/

[starknet devnet]: https://shard-labs.github.io/starknet-devnet/

[starknet sdks]: https://starknet.io/building-on-starknet/developer-tools/#libraries

[starknet.js]: https://www.starknetjs.com/

[starknet.py]: https://starknetpy.rtfd.io/
