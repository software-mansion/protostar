<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/testing/cheatcodes/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Cheatcodes | Protostar</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/protostar/docs/tutorials/testing/cheatcodes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cheatcodes | Protostar"><meta data-rh="true" name="description" content="Most of the time, testing smart contracts with assertions only is not enough."><meta data-rh="true" property="og:description" content="Most of the time, testing smart contracts with assertions only is not enough."><link data-rh="true" rel="icon" href="/protostar/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/protostar/docs/tutorials/testing/cheatcodes"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/protostar/docs/tutorials/testing/cheatcodes" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/protostar/docs/tutorials/testing/cheatcodes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QNXZL3QPUX-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Protostar" href="/protostar/opensearch.xml"><link rel="stylesheet" href="/protostar/assets/css/styles.804854ae.css">
<link rel="preload" href="/protostar/assets/js/runtime~main.586504fd.js" as="script">
<link rel="preload" href="/protostar/assets/js/main.a5b9ceec.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/protostar/"><div class="navbar__logo"><img src="/protostar/img/protostar-logo--dark.png" alt="Protostar" class="themedImage_ToTc themedImage--light_HNdA"><img src="/protostar/img/protostar-logo--light.png" alt="Protostar" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Protostar</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/protostar/docs/tutorials/introduction">Tutorials</a><a class="navbar__item navbar__link" href="/protostar/docs/cli-reference">CLI Reference</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/software-mansion/protostar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/project-initialization">Project initialization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/compiling">Compilation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/dependencies-management">Dependencies</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/protostar/docs/tutorials/deploying">Deployment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/protostar/docs/tutorials/testing">Testing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Testing&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/deploying-contracts">Deploying contracts from tests</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes">Cheatcodes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cheatcodes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/assume">assume</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/declare">declare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/deploy-contract">deploy_contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/deploy">deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/example">example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/expect-events">expect_events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/expect-revert">expect_revert</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/given">given</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/load">load</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/max-examples">max_examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/mock-call">mock_call</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/prepare">prepare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/reflect">reflect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/reject">reject</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/roll">roll</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/send-message-to-l2">send_message_to_l2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/skip">skip</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/start-prank">start_prank</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/store">store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/strategy">strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/protostar/docs/tutorials/testing/cheatcodes/warp">warp</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/protostar/docs/tutorials/testing/fuzzing">Fuzzing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Fuzzing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/formatting">Formatting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/protostar/docs/tutorials/profiling">Profiling</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/protostar/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/protostar/docs/tutorials/testing"><span itemprop="name">Testing</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cheatcodes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cheatcodes</h1><p>Most of the time, testing smart contracts with assertions only is not enough.
Some test cases require manipulating the state of the blockchain, as well as checking for reverts and events.
For that reason, Protostar provides a set of cheatcodes.</p><p>Cheatcodes are available inside of <a href="https://www.cairo-lang.org/docs/hello_cairo/program_input.html#hints" target="_blank" rel="noopener noreferrer">Cairo hints</a>.
You don&#x27;t have to import anything.
When Protostar runs tests, it replaces some core elements in <a href="https://pypi.org/project/cairo-lang/" target="_blank" rel="noopener noreferrer">cairo-lang</a> library and inject cheatcodes to the hint scope.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you are familiar with <a href="https://book.getfoundry.sh/forge/cheatcodes.html" target="_blank" rel="noopener noreferrer">Foundry</a>, you will recognize most cheatcodes.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="available-cheatcodes">Available cheatcodes<a class="hash-link" href="#available-cheatcodes" title="Direct link to heading">â€‹</a></h2><section class="row"><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/assume"><h2 class="text--truncate cardTitle_rnsV" title="assume">ğŸ“„ï¸<!-- --> <!-- -->assume</h2><p class="text--truncate cardDescription_PWke" title="assume(condition) skips testing against the given example if the condition is False.">assume(condition) skips testing against the given example if the condition is False.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/declare"><h2 class="text--truncate cardTitle_rnsV" title="declare">ğŸ“„ï¸<!-- --> <!-- -->declare</h2><p class="text--truncate cardDescription_PWke" title="Declares contract given a path relative to a Protostar project root.">Declares contract given a path relative to a Protostar project root.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/deploy-contract"><h2 class="text--truncate cardTitle_rnsV" title="deploy_contract">ğŸ“„ï¸<!-- --> <!-- -->deploy_contract</h2><p class="text--truncate cardDescription_PWke" title="Deploys a contract given a path relative to a Protostar project root. The section Deploying contracts from tests demonstrates a usage of this cheatcode.">Deploys a contract given a path relative to a Protostar project root. The section Deploying contracts from tests demonstrates a usage of this cheatcode.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/deploy"><h2 class="text--truncate cardTitle_rnsV" title="deploy">ğŸ“„ï¸<!-- --> <!-- -->deploy</h2><p class="text--truncate cardDescription_PWke" title="Deploys contract for deployment given PreparedContract.">Deploys contract for deployment given PreparedContract.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/example"><h2 class="text--truncate cardTitle_rnsV" title="example">ğŸ“„ï¸<!-- --> <!-- -->example</h2><p class="text--truncate cardDescription_PWke" title="Parametrizes test with explicitly provided data.">Parametrizes test with explicitly provided data.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/expect-events"><h2 class="text--truncate cardTitle_rnsV" title="expect_events">ğŸ“„ï¸<!-- --> <!-- -->expect_events</h2><p class="text--truncate cardDescription_PWke" title="Compares expected events with events in the StarkNet state. You can use this cheatcode to test whether a contract emits specified events. Protostar compares events after a test case is completed. Therefore, you can use this cheatcode in any place within a test case.">Compares expected events with events in the StarkNet state. You can use this cheatcode to test whether a contract emits specified events. Protostar compares events after a test case is completed. Therefore, you can use this cheatcode in any place within a test case.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/expect-revert"><h2 class="text--truncate cardTitle_rnsV" title="expect_revert">ğŸ“„ï¸<!-- --> <!-- -->expect_revert</h2><p class="text--truncate cardDescription_PWke" title="If a code beneath expect_revert raises a specified exception, a test will pass. If not, a test will fail.">If a code beneath expect_revert raises a specified exception, a test will pass. If not, a test will fail.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/given"><h2 class="text--truncate cardTitle_rnsV" title="given">ğŸ“„ï¸<!-- --> <!-- -->given</h2><p class="text--truncate cardDescription_PWke" title="Instructs the fuzzer to adopt a different fuzzing strategy for input parameters.">Instructs the fuzzer to adopt a different fuzzing strategy for input parameters.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/load"><h2 class="text--truncate cardTitle_rnsV" title="load">ğŸ“„ï¸<!-- --> <!-- -->load</h2><p class="text--truncate cardDescription_PWke" title="Loads storage variable with name variablename and given key and variabletype from a contract with targetcontractaddress.">Loads storage variable with name variablename and given key and variabletype from a contract with targetcontractaddress.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/max-examples"><h2 class="text--truncate cardTitle_rnsV" title="max_examples">ğŸ“„ï¸<!-- --> <!-- -->max_examples</h2><p class="text--truncate cardDescription_PWke" title="Sets the maximum number of examples to explore by the fuzzer.">Sets the maximum number of examples to explore by the fuzzer.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/mock-call"><h2 class="text--truncate cardTitle_rnsV" title="mock_call">ğŸ“„ï¸<!-- --> <!-- -->mock_call</h2><p class="text--truncate cardDescription_PWke" title="Mocks all calls to function with the name fnname of a contract with an address contractaddress, until the returned callable is called.">Mocks all calls to function with the name fnname of a contract with an address contractaddress, until the returned callable is called.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/prepare"><h2 class="text--truncate cardTitle_rnsV" title="prepare">ğŸ“„ï¸<!-- --> <!-- -->prepare</h2><p class="text--truncate cardDescription_PWke" title="Prepares contract for deployment given DeclaredContract and constructor_calldata. The cheatcode is useful when you want to know contract address before deploying it to affect constructor with a targeted cheatcode. Example:">Prepares contract for deployment given DeclaredContract and constructor_calldata. The cheatcode is useful when you want to know contract address before deploying it to affect constructor with a targeted cheatcode. Example:</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/reflect"><h2 class="text--truncate cardTitle_rnsV" title="reflect">ğŸ“„ï¸<!-- --> <!-- -->reflect</h2><p class="text--truncate cardDescription_PWke" title="Loads specified Cairo object into a Python type. reflect is an instance of the Reflector object that works simillarly to ids. To retrieve the value use get() method which can return:">Loads specified Cairo object into a Python type. reflect is an instance of the Reflector object that works simillarly to ids. To retrieve the value use get() method which can return:</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/reject"><h2 class="text--truncate cardTitle_rnsV" title="reject">ğŸ“„ï¸<!-- --> <!-- -->reject</h2><p class="text--truncate cardDescription_PWke" title="reject() skips testing against the given example.">reject() skips testing against the given example.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/roll"><h2 class="text--truncate cardTitle_rnsV" title="roll">ğŸ“„ï¸<!-- --> <!-- -->roll</h2><p class="text--truncate cardDescription_PWke" title="Changes a block number until the returned function is called. If targetcontractaddress is specified, roll affects only the contract with the specified address. Otherwise, roll affects the current contract.">Changes a block number until the returned function is called. If targetcontractaddress is specified, roll affects only the contract with the specified address. Otherwise, roll affects the current contract.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/send-message-to-l2"><h2 class="text--truncate cardTitle_rnsV" title="send_message_to_l2">ğŸ“„ï¸<!-- --> <!-- -->send_message_to_l2</h2><p class="text--truncate cardDescription_PWke" title="This cheatcode simulates an incoming message from L1 to L2 executed with fnname at toaddress contract address.">This cheatcode simulates an incoming message from L1 to L2 executed with fnname at toaddress contract address.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/skip"><h2 class="text--truncate cardTitle_rnsV" title="skip">ğŸ“„ï¸<!-- --> <!-- -->skip</h2><p class="text--truncate cardDescription_PWke" title="Skip a test. You can use this cheatcode to prepare tests for functionality that isn&#x27;t completed yet.">Skip a test. You can use this cheatcode to prepare tests for functionality that isn&#x27;t completed yet.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/start-prank"><h2 class="text--truncate cardTitle_rnsV" title="start_prank">ğŸ“„ï¸<!-- --> <!-- -->start_prank</h2><p class="text--truncate cardDescription_PWke" title="Changes a caller address returned by getcalleraddress() until the returned callable is called. If targetcontractaddress is specified, startprank affects only the contract with the specified address. Otherwise, startprank affects the current contract.">Changes a caller address returned by getcalleraddress() until the returned callable is called. If targetcontractaddress is specified, startprank affects only the contract with the specified address. Otherwise, startprank affects the current contract.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/store"><h2 class="text--truncate cardTitle_rnsV" title="store">ğŸ“„ï¸<!-- --> <!-- -->store</h2><p class="text--truncate cardDescription_PWke" title="Updates storage variable with name variablename and given key to value of a contract with targetcontract_address.">Updates storage variable with name variablename and given key to value of a contract with targetcontract_address.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/strategy"><h2 class="text--truncate cardTitle_rnsV" title="strategy">ğŸ“„ï¸<!-- --> <!-- -->strategy</h2><p class="text--truncate cardDescription_PWke" title="A [Python namespace] containing constructors of built-in fuzzing strategies.">A [Python namespace] containing constructors of built-in fuzzing strategies.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href="/protostar/docs/tutorials/testing/cheatcodes/warp"><h2 class="text--truncate cardTitle_rnsV" title="warp">ğŸ“„ï¸<!-- --> <!-- -->warp</h2><p class="text--truncate cardDescription_PWke" title="Changes a block timestamp until the returned function is called. If targetcontractaddress is specified, warp affects only the contract with the specified address. Otherwise, warp affects the current contract.">Changes a block timestamp until the returned function is called. If targetcontractaddress is specified, warp affects only the contract with the specified address. Otherwise, warp affects the current contract.</p></a></article></section><h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-transformer">Data Transformer<a class="hash-link" href="#data-transformer" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-data-transformer">What is a Data Transformer<a class="hash-link" href="#what-is-a-data-transformer" title="Direct link to heading">â€‹</a></h3><p>Data Transformer converts inputs and outputs of Cairo functions to Python friendly representation. Cairo internally operates on a list of integers, which readability and maintenance becomes problematic for complex data structures. You can read more about: </p><ul><li><a href="https://starknetpy.readthedocs.io/en/latest/guide.html?highlight=Data%20transformer#data-transformation" target="_blank" rel="noopener noreferrer">Data Transformer in the Starknet.py&#x27;s documentation</a>.</li><li><a href="https://www.cairo-lang.org/docs/hello_starknet/more_features.html#passing-tuples-and-structs-in-calldata" target="_blank" rel="noopener noreferrer">representing tuples and structs as a list of integers in the official documentation</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-data-transformer-in-cheatcodes">Using Data Transformer in cheatcodes<a class="hash-link" href="#using-data-transformer-in-cheatcodes" title="Direct link to heading">â€‹</a></h3><p>Cheatcodes accept arguments representing input or output of a Cairo function as:</p><ul><li><code>List[int]</code> â€” a list of integers</li><li><code>Dict[DataTransformer.ArgumentName, DataTransformer.SupportedType]</code> â€” Data Transformer friendly dictionary</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">â€‹</a></h3><p>The following example demonstrate usage on the <a href="/protostar/docs/tutorials/testing/cheatcodes/deploy-contract"><code>deploy_contract</code></a>.</p><div class="language-cairo codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">./src/main.cairo</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cairo codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%lang starknet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from starkware.cairo.common.uint256 import Uint256</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@constructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">func constructor(initial_balance: Uint256, contract_id: felt) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return ();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Passing constructor data as a dictionary</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">deploy_contract</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./src/main.cairo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;initial_balance&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;contract_id&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Passing constructor data as a list of integers</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">deploy_contract</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./src/main.cairo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/software-mansion/protostar/tree/master/website/docs/tutorials/07-testing/02-cheatcodes/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/protostar/docs/tutorials/testing/deploying-contracts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Deploying contracts from tests</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/protostar/docs/tutorials/testing/cheatcodes/assume"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">assume</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#available-cheatcodes" class="table-of-contents__link toc-highlight">Available cheatcodes</a></li><li><a href="#data-transformer" class="table-of-contents__link toc-highlight">Data Transformer</a><ul><li><a href="#what-is-a-data-transformer" class="table-of-contents__link toc-highlight">What is a Data Transformer</a></li><li><a href="#using-data-transformer-in-cheatcodes" class="table-of-contents__link toc-highlight">Using Data Transformer in cheatcodes</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li></ul></div></div></div><div class="row margin-top--md"><div class="col"></div><div class="col col--3"></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/protostar/docs/tutorials/introduction">Tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.com/invite/QypNMzkHbc" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Software Mansion. Built with Docusaurus.</div></div></div></footer></div>
<script src="/protostar/assets/js/runtime~main.586504fd.js"></script>
<script src="/protostar/assets/js/main.a5b9ceec.js"></script>
</body>
</html>